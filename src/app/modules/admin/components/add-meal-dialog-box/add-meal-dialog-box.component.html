<div>
  <div class="card-header bg-dark text-white font-weight-bold rounded-0 ">
    Add Meal
  </div>
  <form
    class="pt-3 form-size"
    [formGroup]="mealForm"
    (ngSubmit)="onMealSubmit(submitBtn)"
    #formDir="ngForm"
  >
    <div class="form-group d-flex justify-content-start">
      <label for="inputEmail3" class="col-sm-3 col-form-label ">Title</label>
      <div class="col-sm-9">
        <input
          type="text"
          class="form-control"
          style="height:40px;"
          placeholder="Enter Title"
          formControlName="title"
        />
        <div
          *ngIf="mealForm.hasError('required', 'title') && formDir.submitted"
          class="item-form__input_error d-flex justify-content-start align-items-center mt-1"
        >
          <span class="text-danger">Title is required</span>
        </div>
      </div>
    </div>
    <div
      class="form-check item-form_product_checkbox mb-2 d-flex justify-content-start"
    >
      <div class="col-sm-3 offset-sm-3">
        <label class="form-check-label" for="defaultCheck1">
          Is Available ?
        </label>
        <input
          class="form-check-input ml-3"
          type="checkbox"
          value=""
          id="defaultCheck1"
          formControlName="isAvailable"
        />
      </div>
    </div>
    <div class="form-group d-flex justify-content-start">
      <label for="inputPassword3" class="col-sm-3 col-form-label "
        >Category</label
      >
      <div class="col-sm-9">
        <select
          id="inputState"
          class="form-control"
          formControlName="category"
          placeholder="Choose Category"
        >
          <option
            value="{{ category.id }}"
            *ngFor="let category of categories"
            >{{ category.name }}</option
          >
        </select>
        <div
          *ngIf="mealForm.hasError('required', 'category') && formDir.submitted"
          class="item-form__input_error d-flex justify-content-start align-items-center mt-1"
        >
          <span class="text-danger">Category is required</span>
        </div>
      </div>
    </div>
    <div class="form-group d-flex justify-content-start">
      <label for="inputPassword3" class="col-sm-3 col-form-label ">Price</label>
      <div class="col-sm-9">
        <input
          type="number"
          class="form-control"
          style="height:40px;"
          placeholder="Enter Price"
          formControlName="price"
        />
        <div
          *ngIf="mealForm.hasError('required', 'price') && formDir.submitted"
          class="item-form__input_error d-flex justify-content-start align-items-center mt-1"
        >
          <span class="text-danger">Price is required</span>
        </div>
      </div>
    </div>
    <div class="form-group d-flex justify-content-start">
      <label for="inputPassword3" class="col-sm-3 col-form-label "
        >Dicount</label
      >
      <div class="col-sm-9">
        <input
          type="number"
          class="form-control"
          style="height:40px;"
          placeholder="Enter Discount"
          formControlName="discount"
        />
        <div
          *ngIf="mealForm.hasError('required', 'discount') && formDir.submitted"
          class="item-form__input_error d-flex justify-content-start align-items-center mt-1"
        >
          <span class="text-danger">Discount is required</span>
        </div>
      </div>
    </div>
    <div class="form-group d-flex justify-content-start">
      <label for="inputPassword3" class="col-sm-3 col-form-label"
        >Dicount End</label
      >
      <div class="col-sm-9">
        <input
          type="date"
          class="form-control"
          style="height:40px;"
          placeholder="Enter Discount End Date"
          formControlName="discountEnd"
        />
        <div
          *ngIf="mealForm.hasError('required', 'discountEnd') && formDir.submitted"
          class="item-form__input_error d-flex justify-content-start align-items-center mt-1"
        >
          <span class="text-danger">Discount End Date is required</span>
        </div>
      </div>

    </div>
    <div
      class="form-check item-form_product_checkbox mb-2 d-flex justify-content-start"
    >
      <div class="col-sm-3 offset-sm-3">
        <label class="form-check-label" for="defaultCheck1">
          Is Product ?
        </label>
        <input
          class="form-check-input ml-3"
          type="checkbox"
          value=""
          id="defaultCheck1"
          formControlName="isProduct"
        />
      </div>
    </div>
    <div
      class="form-group d-flex justify-content-start"
      *ngIf="mealForm.controls.isProduct.value === true"
    >
      <label for="inputPassword3" class="col-sm-3 col-form-label "
        >Quantity</label
      >
      <div class="col-sm-9">
        <input
          type="number"
          class="form-control"
          style="height:40px;"
          placeholder="Enter Quantity"
          formControlName="quantity"
        />
      </div>
    </div>

    <div class="form-group d-flex justify-content-start">
      <label for="inputPassword3" class="col-sm-3 col-form-label "
        >Description</label
      >
      <div class="col-sm-9">
        <textarea
          class="form-control"
          rows="2"
          formControlName="description"
        ></textarea>
      </div>
    </div>
    <div class="form-group w-100 d-flex align-items-center">
      <label for="exampleFormControlFile1" class="col-sm-3 col-form-label "
        >Attachments</label
      >
      <input
        type="file"
        class="form-control-file"
        style="display:none;"
        #mealImageInput
        accept=".jpeg,.png"
        formControlName="attachment"
        (change)="fileChangeEvent($event)"
      />
      <button
        class="btn btn-secondary ml-3"
        (click)="chooseFile()"
        type="button"
      >
        Choose an Image
      </button>
      <p class="lead w-25 mt-3 ml-3" *ngIf="this.imageFile">
        {{ this.imageFile.name }}
      </p>
      <div
      *ngIf="mealForm.hasError('required', 'attachment') && formDir.submitted"
      class="item-form__input_error ml-2"
    >
      Attachment is required
    </div>
    </div>
    <div class="form-group row">
      <div class="d-flex w-100 justify-content-end px-4">
        <button
          type="submit"
          class="btn btn-primary btn-lg"
          is-button
          theme="danger"
          #submitBtn
        >
          Submit
        </button>
        <button
          type="button"
          class="btn btn-primary btn-lg ml-3"
          is-button
          theme="primary"
          (click)="isActiveModel.close('cancel')"
        >
          Cancel
        </button>
      </div>
    </div>
  </form>
</div>
