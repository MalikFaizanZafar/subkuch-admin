<div class="">
  <div class="card-header bg-dark text-white font-weight-bold rounded-0 ">
    Add Deal
  </div>
  <form
    class="mt-5"
    [formGroup]="dealForm"
    (ngSubmit)="onDealSubmit(formDir, submitBtn)"
    #formDir="ngForm"
  >
    <div class="form-group d-flex justify-content-start">
      <label for="inputEmail3" class="col-sm-2 col-form-label text-dark"
        >Title</label
      >
      <div class="col-sm-6">
        <input
          type="text"
          class="form-control"
          style="height:40px;"
          placeholder="Enter Title"
          formControlName="name"
        />
      </div>
      <div
        *ngIf="dealForm.hasError('required', 'name') && formDir.submitted"
        class="item-form__input_error d-flex align-items-center"
      >
        <span class="text-danger">Name is required</span>
      </div>
    </div>
    <div class="form-group d-flex justify-content-start mt-3">
      <label for="inputPassword3" class="col-sm-2 col-form-label text-dark"
        >Price</label
      >
      <div class="col-sm-6">
        <input
          type="number"
          class="form-control"
          style="height:40px;"
          placeholder="Enter Price"
          formControlName="price"
        />
      </div>
      <div
        *ngIf="dealForm.hasError('required', 'price') && formDir.submitted"
        class="item-form__input_error d-flex align-items-center"
      >
        <span class="text-danger">Price is required</span>
      </div>
    </div>
    <div class="form-group d-flex justify-content-start mt-3">
      <label for="inputPassword3" class="col-sm-2 col-form-label text-dark ml-4"
        >Dicount End</label
      >
      <div class="col-sm-6">
        <input
          type="date"
          class="form-control"
          style="height:40px; margin-left: -20px;"
          placeholder="Enter Discount End Date"
          formControlName="discountEnd"
        />
      </div>
      <div
        style="margin-left: -20px;"
        *ngIf="
          dealForm.hasError('required', 'discountEnd') && formDir.submitted
        "
        class="item-form__input_error d-flex align-items-center"
      >
        <span class="text-danger">Discount End Date is required</span>
      </div>
    </div>
    <div class="form-group w-100 d-flex align-items-center mt-3">
      <label for="exampleFormControlFile1" class="text-dark ml-5"
        >Attachments</label
      >
      <input
        type="file"
        class="form-control-file"
        style="display:none;"
        #dealImage
        accept=".jpeg,.png"
        formControlName="attachment"
        (change)="fileChangeEvent($event)"
      />
      <button
        class="btn btn-secondary"
        (click)="chooseFile()"
        type="button"
        style="margin-left: 25px;"
      >
        Choose an Image
      </button>
      <p class="lead w-25 mt-3 ml-1" *ngIf="this.imageFile">
        {{ this.imageFile.name }}
      </p>
      <div
        *ngIf="dealForm.hasError('required', 'attachment') && formDir.submitted"
        class="item-form__input_error d-flex align-items-center justify-content-center"
      >
        <span class="text-danger ml-3">Image is required</span>
      </div>
    </div>
    <div class="form-group d-flex justify-content-start mt-5">
      <div class="col-sm-10">
        <button
          type="submit"
          theme="danger"
          class="btn btn-primary btn-lg"
          is-button
          (click)="onDealSubmit(saveBtn)"
          #saveBtn
        >
          Submit
        </button>
        <button
          is-button
          theme="primary"
          (click)="isActiveModal.close('cancel')"
          class="btn btn-alert btn-lg ml-5"
        >
          Cancel
        </button>
      </div>
    </div>
  </form>
</div>
